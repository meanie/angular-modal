/**
 * meanie-angular-modal - v1.0.1 - 12-10-2015
 * https://github.com/meanie/angular-modal
 *
 * Copyright (c) 2015 Adam Buczynski <me@adambuczynski.com>
 * License: MIT
 */
!function(e,n,t){"use strict";n.module("Modal.Service",[]).provider("$modal",function(){this.defaults={closeOnEsc:!0,closeOnClick:!0,template:null,templateUrl:null,scope:null,controller:null,controllerAs:null,resolve:{},locals:null,appendTo:null,overlay:!0,wrapperClass:"modal-wrapper",overlayClass:"modal-overlay"},this.configs={},this.setDefaults=function(e){return this.defaults=n.extend(this.defaults,e||{}),this},this.modal=function(e,t){return e&&"object"==typeof e?void n.forEach(e,function(e,n){this.modal(n,e)},this):(this.configs[e]=n.extend({},this.defaults,t||{}),this)},this.$get=["$rootScope","$q","$templateRequest","$injector","$controller","$compile","$document","$animate",function(e,t,o,r,l,s,c,i){function a(e,n){return e?t.when(e):o(n,!0)}function u(e){var o=[];return n.forEach(e,function(e){n.isFunction(e)||n.isArray(e)?o.push(t.when(r.invoke(e))):n.isString(e)?o.push(t.when(r.get(e))):o.push(t.when(e))}),o}function d(e,n){var t=n.children();return t.length>0?i.enter(e,n,t[t.length-1]):i.enter(e,n)}function p(e,t){return m=n.element("<div></div>").attr({"class":t}),d(m,c.find("body").eq(0))}function f(t){var o=t.$$modal;return o.element=n.element("<div></div>").attr({"class":o.wrapperClass}).html(o.content),o.element=s(o.element)(o.scope),o.closeOnClick&&o.element.on("click",function(n){n.target===n.currentTarget&&(n.preventDefault(),n.stopPropagation(),e.$apply(function(){h(t,"cancel",!0)}))}),d(o.element,o.parent).then(function(){o.openedDeferred.resolve(t)},function(e){o.openedDeferred.reject(e)})}function h(e,n,o){var r=e.$$modal;return r.element?(o?r.resultDeferred.reject(n):r.resultDeferred.resolve(n),m&&i.leave(m)["finally"](function(){m=null}),i.leave(r.element).then(function(){r.scope&&(r.scope.$destroy(),r.scope=null),r.element=null,r.closeOnEsc&&(c[0].removeEventListener("keydown",r.closeOnEsc),r.closeOnEsc=null)})):t.when(!0)}var m,v=this.defaults,w=this.configs,$={open:function(o,r){if("string"!=typeof o&&(r=o||{},o=""),o&&"undefined"!==w[o])r=n.extend({},w[o],r||{});else if(o)throw new Error("String given as options, but config with name "+r+" was not predefined");if(r=n.extend({},v,r||{}),r.resolve=r.resolve||{},r.appendTo=r.appendTo||c.find("body").eq(0),!r.template&&!r.templateUrl)throw new Error("One of template or templateUrl options is required.");if(!r.appendTo.length)throw new Error("Element to append modal to not found in the DOM.");var s={openedDeferred:t.defer(),resultDeferred:t.defer(),parent:r.appendTo,wrapperClass:r.wrapperClass,closeOnClick:r.closeOnClick},i={$$modal:s,opened:s.openedDeferred.promise,result:s.resultDeferred.promise,close:function(e){return h(i,e)},dismiss:function(e){return h(i,e,!0)}};return r.closeOnEsc&&(s.closeOnEsc=function(n){var t=n.keyCode||n.which;27===t&&e.$apply(function(){h(i,"cancel",!0)})},c[0].addEventListener("keydown",s.closeOnEsc)),t.all([a(r.template,r.templateUrl)].concat(u(r.resolve))).then(function(t){if(s.content=t.shift(),s.scope=(r.scope||e).$new(),s.scope.$close=i.close,s.scope.$dismiss=i.dismiss,r.controller){var o={};o.$scope=s.scope,o.$modalInstance=i,r.locals&&"object"==typeof r.locals&&n.forEach(r.locals,function(e,n){o[n]=e}),n.forEach(r.resolve,function(e,n){o[n]=t.shift()}),s.controller=l(r.controller,o),r.controllerAs&&(s.scope[r.controllerAs]=s.controller)}f(i),r.overlay&&p(i,r.overlayClass)},function(e){s.openedDeferred.reject(e),s.resultDeferred.reject(e)}),i}};return $}]})}(window,window.angular);
//# sourceMappingURL=meanie-angular-modal.min.js.map
